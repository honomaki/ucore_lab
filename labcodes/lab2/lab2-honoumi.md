#实验二 : 物理内存管理

<br/>

##练习1：实现 first-fit 连续物理内存分配算法

请在实验报告中简要说明你的设计实现过程
   
对 `default_alloc_pages` 与 `default_free_pages` 函数做了一下修改，在alloc时不是直接插入头中，而是插入列表相应位置，free时进行合并操作
  

* 你的first fit算法是否有进一步的改进空间

有进一步改进的空间，比如把列表改为某一平衡二叉树，这样将会降低查找时的复杂度

##2：实现寻找虚拟地址对应的页表项

* 请描述页目录项（Pag Director Entry）和页表（Page Table Entry）中每个组成部分的含义和以及对ucore而言的潜在用处。

PDE：二级页表初始地址 存在位 读写位 权限位

PTE：物理内存初始地址 存在位 读写位 权限位

其中二级页表初始地址用来访问二级页表，物理内存初始地址用来获得物理页地址，存在位表示当前页是否存在，读写位表示当前进程的读写权限，权限位表示当前进程是否有权限操作。

* 如果ucore执行过程中访问内存，出现了页访问异常，请问硬件要做哪些事情？

保存中断现场，调用缺页服务例程

##练习3：释放某虚地址所在的页并取消对应二级页表项的映射

* 数据结构Page的全局变量的每一项与页表中的页目录项和页表项有无对应关系？如果有，其对应关系是啥？

当页被分配时有对应关系，未被分配时没有。一级索引和二级索引分别对应了二级页表地址和物理地址所对应的偏移量

* 如果希望虚拟地址与物理地址相等，则需要如何修改lab2，完成此事？

`alloc_pages`函数把虚拟地址作为参数传入，在分配时选择对应的物理地址分配